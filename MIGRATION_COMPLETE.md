# âœ… ProductMaintenance é·ç§»å®Œæˆ

## é·ç§»ç‹€æ…‹

**åŸ·è¡Œæ™‚é–“**: 2025-11-12
**ç‹€æ…‹**: âœ… å·²å®Œæˆæª”æ¡ˆæ›¿æ›

### å·²æ›¿æ›çš„æª”æ¡ˆ

#### Admin App
- **èˆŠç‰ˆ**: `ProductMaintenance.OLD.jsx` (1,971 è¡Œ, 73KB)
- **æ–°ç‰ˆ**: `ProductMaintenance.jsx` (384 è¡Œ, 17KB)
- **ç¯€çœ**: **1,587 è¡Œ (-80%)**

#### Customer App
- **èˆŠç‰ˆ**: `ProductMaintenance.OLD.jsx` (2,116 è¡Œ, 78KB)
- **æ–°ç‰ˆ**: `ProductMaintenance.jsx` (478 è¡Œ, 21KB)
- **ç¯€çœ**: **1,638 è¡Œ (-77%)**

### ç¸½è¨ˆç¯€çœ
- **ä»£ç¢¼è¡Œæ•¸**: 3,225 è¡Œ (-79%)
- **æª”æ¡ˆå¤§å°**: 133KB â†’ 38KB (-71%)
- **é ä¼° Token ç¯€çœ**: ~3,100 tokens (ç•¶é€™äº›æª”æ¡ˆè¢«è®€å–æ™‚)

---

## ğŸ§ª æ¸¬è©¦æª¢æŸ¥æ¸…å–®

åœ¨åˆªé™¤èˆŠæª”æ¡ˆä¹‹å‰ï¼Œè«‹æ¸¬è©¦ä»¥ä¸‹åŠŸèƒ½ï¼š

### Admin App æ¸¬è©¦

å•Ÿå‹• Admin App:
```bash
pnpm dev:admin
```

æ¸¬è©¦é …ç›®:
- [ ] é é¢æ­£å¸¸è¼‰å…¥ï¼Œç„¡æ§åˆ¶å°éŒ¯èª¤
- [ ] ä¸‹æ‹‰é¸å–®é¡¯ç¤ºå•†å“åˆ—è¡¨
- [ ] å¯ä»¥é¸æ“‡ä¸åŒå•†å“
- [ ] è¨­è¨ˆå€åŸŸé è¦½æ­£å¸¸é¡¯ç¤º
- [ ] å¯ä»¥æ‹–æ›³ç§»å‹•è¨­è¨ˆå€åŸŸ
- [ ] å¯ä»¥èª¿æ•´è¨­è¨ˆå€åŸŸå¤§å°
- [ ] **å‡ºè¡€å€åŸŸè¨­å®šæ­£å¸¸é¡¯ç¤º** (Admin å°ˆå±¬åŠŸèƒ½)
- [ ] å¯ä»¥å•Ÿç”¨/åœç”¨å‡ºè¡€å€åŸŸ
- [ ] å¯ä»¥åˆ‡æ›å‡ºè¡€å€åŸŸæ¨¡å¼ï¼ˆçµ±ä¸€/åˆ†åˆ¥ï¼‰
- [ ] å„²å­˜è¨­è¨ˆå€åŸŸåŠŸèƒ½æ­£å¸¸
- [ ] åˆ‡æ›ç”¢å“é¡å‹ (2D/3D) åŠŸèƒ½æ­£å¸¸
- [ ] æ–°å¢å•†å“ Modal æ­£å¸¸é‹ä½œ
- [ ] é€šçŸ¥è¨Šæ¯æ­£å¸¸é¡¯ç¤º
- [ ] 3D æ¨¡å‹ä¸Šå‚³/é è¦½åŠŸèƒ½æ­£å¸¸ï¼ˆå¦‚æœæœ‰ 3D ç”¢å“ï¼‰

### Customer App æ¸¬è©¦

å•Ÿå‹• Customer App:
```bash
pnpm dev:customer
```

æ¸¬è©¦é …ç›®:
- [ ] é é¢æ­£å¸¸è¼‰å…¥ï¼Œç„¡æ§åˆ¶å°éŒ¯èª¤
- [ ] å·¦å´å•†å“åˆ—è¡¨æ­£å¸¸é¡¯ç¤º
- [ ] å¯ä»¥é»æ“Šåˆ—è¡¨é¸æ“‡å•†å“
- [ ] è¨­è¨ˆå€åŸŸé è¦½æ­£å¸¸é¡¯ç¤º
- [ ] å¯ä»¥æ‹–æ›³ç§»å‹•è¨­è¨ˆå€åŸŸ
- [ ] å¯ä»¥èª¿æ•´è¨­è¨ˆå€åŸŸå¤§å°
- [ ] **ä¸é¡¯ç¤ºå‡ºè¡€å€åŸŸ** (Customer ä¸æ‡‰æœ‰æ­¤åŠŸèƒ½)
- [ ] å„²å­˜è¨­è¨ˆå€åŸŸåŠŸèƒ½æ­£å¸¸
- [ ] è¿”å›æŒ‰éˆ•åŠŸèƒ½æ­£å¸¸
- [ ] å•†å“è³‡è¨Šç·¨è¼¯åŠŸèƒ½æ­£å¸¸
- [ ] å•Ÿç”¨/åœç”¨å•†å“åˆ‡æ›æ­£å¸¸
- [ ] æ–°å¢å•†å“ Modal æ­£å¸¸é‹ä½œ
- [ ] é€šçŸ¥è¨Šæ¯æ­£å¸¸é¡¯ç¤º
- [ ] 3D æ¨¡å‹ä¸Šå‚³/é è¦½åŠŸèƒ½æ­£å¸¸ï¼ˆå¦‚æœæœ‰ 3D ç”¢å“ï¼‰

---

## ğŸ” é©—è­‰å…±äº«çµ„ä»¶

ç¢ºèªå…©å€‹ App éƒ½æ­£ç¢ºä½¿ç”¨å…±äº«çµ„ä»¶ï¼š

### Admin App å°å…¥æª¢æŸ¥
```javascript
import {
  useProductMaintenance,
  adminConfig,
  NotificationMessage,
  DesignAreaPreview,
  BleedAreaSettings,
} from "@monkind/shared/components/ProductMaintenance";

const pm = useProductMaintenance(adminConfig);
```

### Customer App å°å…¥æª¢æŸ¥
```javascript
import {
  useProductMaintenance,
  customerConfig,
  NotificationMessage,
  DesignAreaPreview,
} from "@monkind/shared/components/ProductMaintenance";

const pm = useProductMaintenance(customerConfig);
```

---

## ğŸ“Œ å·²çŸ¥å·®ç•°ï¼ˆé€™æ˜¯æ­£å¸¸çš„ï¼‰

### Admin vs Customer åŠŸèƒ½å·®ç•°

| åŠŸèƒ½ | Admin | Customer | åŸå›  |
|-----|-------|----------|------|
| ç”¢å“é¸æ“‡å™¨ | ä¸‹æ‹‰é¸å–® | å·¦å´åˆ—è¡¨ | UI è¨­è¨ˆå·®ç•° |
| å‡ºè¡€å€åŸŸè¨­å®š | âœ… æœ‰ | âŒ ç„¡ | Admin å°ˆå±¬åŠŸèƒ½ |
| è¿”å›æŒ‰éˆ• | âŒ ç„¡ | âœ… æœ‰ | Customer éœ€è¦è¿”å› |
| Layout åŒ…è£ | âœ… æœ‰ | âŒ ç„¡ | æ¶æ§‹å·®ç•° |
| åˆªé™¤å•†å“ | âœ… å¯ä»¥ | âŒ ä¸å¯ | æ¬Šé™å·®ç•° |

é€™äº›å·®ç•°æ˜¯ç”±é…ç½® (`adminConfig` vs `customerConfig`) æ§åˆ¶çš„ï¼Œå±¬æ–¼é æœŸè¡Œç‚ºã€‚

---

## âš ï¸ å¸¸è¦‹å•é¡Œæ’æŸ¥

### å•é¡Œ 1: å°å…¥éŒ¯èª¤ "Module not found"

**ç—‡ç‹€**: `Cannot find module '@monkind/shared/components/ProductMaintenance'`

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# é‡æ–°å®‰è£ä¾è³´
pnpm install

# æˆ–è€…é‡æ–° build shared package
cd packages/shared
pnpm build
```

### å•é¡Œ 2: å‡ºè¡€å€åŸŸåœ¨ Admin æ²’æœ‰é¡¯ç¤º

**æª¢æŸ¥**:
1. ç¢ºèªä½¿ç”¨ `adminConfig`ï¼ˆä¸æ˜¯ `customerConfig`ï¼‰
2. æª¢æŸ¥ `adminConfig.features.bleedArea` æ˜¯å¦ç‚º `true`

### å•é¡Œ 3: Customer App é¡¯ç¤ºäº†å‡ºè¡€å€åŸŸ

**æª¢æŸ¥**:
1. ç¢ºèªä½¿ç”¨ `customerConfig`ï¼ˆä¸æ˜¯ `adminConfig`ï¼‰
2. æª¢æŸ¥ `DesignAreaPreview` çš„ `showBleedArea` prop æ˜¯å¦ç‚º `false`

### å•é¡Œ 4: æ¨£å¼é¡¯ç¤ºç•°å¸¸

**å¯èƒ½åŸå› **: Tailwind CSS é¡åæœªè¢«æ­£ç¢ºç·¨è­¯

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# é‡å•Ÿé–‹ç™¼ä¼ºæœå™¨
pnpm dev:admin
# æˆ–
pnpm dev:customer
```

---

## âœ… æ¸¬è©¦é€šéå¾Œçš„ä¸‹ä¸€æ­¥

ç•¶æ‰€æœ‰æ¸¬è©¦éƒ½é€šéå¾Œï¼ŒåŸ·è¡Œæ¸…ç†è…³æœ¬åˆªé™¤èˆŠæª”æ¡ˆï¼š

### ä½¿ç”¨æ¸…ç†è…³æœ¬ï¼ˆæ¨è–¦ï¼‰

```powershell
# æœƒè©¢å•ç¢ºèªï¼Œä¸¦åˆªé™¤æ‰€æœ‰èˆŠæª”æ¡ˆ
.\cleanup.ps1
```

### æˆ–æ‰‹å‹•åˆªé™¤

```powershell
# Admin App - åˆªé™¤èˆŠçš„ hooks å’Œ components
Remove-Item -Path "packages\admin-app\src\pages\Products\hooks" -Recurse -Force
Remove-Item -Path "packages\admin-app\src\pages\Products\components" -Recurse -Force
Remove-Item -Path "packages\admin-app\src\utils\bleedAreaUtils.js" -Force

# åˆªé™¤å‚™ä»½æª”æ¡ˆï¼ˆç¢ºèªæ¸¬è©¦é€šéå¾Œï¼‰
Remove-Item -Path "packages\admin-app\src\pages\Products\ProductMaintenance.OLD.jsx" -Force
Remove-Item -Path "packages\customer-app\src\pages\Admin\ProductMaintenance.OLD.jsx" -Force

# åˆªé™¤æš«å­˜æª”æ¡ˆ
Remove-Item -Path "packages\admin-app\src\pages\Products\ProductMaintenance.NEW.jsx" -Force
Remove-Item -Path "packages\customer-app\src\pages\Admin\ProductMaintenance.NEW.jsx" -Force
```

---

## ğŸ”„ å¦‚éœ€å›æ»¾

å¦‚æœç™¼ç¾å•é¡Œéœ€è¦å›æ»¾ï¼š

```powershell
# ä½¿ç”¨å›æ»¾è…³æœ¬
.\rollback.ps1

# æˆ–æ‰‹å‹•å›æ»¾
Copy-Item -Path "packages\admin-app\src\pages\Products\ProductMaintenance.OLD.jsx" `
          -Destination "packages\admin-app\src\pages\Products\ProductMaintenance.jsx" -Force

Copy-Item -Path "packages\customer-app\src\pages\Admin\ProductMaintenance.OLD.jsx" `
          -Destination "packages\customer-app\src\pages\Admin\ProductMaintenance.jsx" -Force
```

---

## ğŸ“Š é·ç§»æˆæœ

### ä»£ç¢¼ç°¡åŒ–

**ä¹‹å‰**:
- Admin: 1,971 è¡Œç¨ç«‹ä»£ç¢¼
- Customer: 2,116 è¡Œç¨ç«‹ä»£ç¢¼
- å…±äº«: 0 è¡Œ
- **ç¸½è¨ˆ: 4,087 è¡Œ**

**ä¹‹å¾Œ**:
- Admin: 384 è¡Œï¼ˆä½¿ç”¨å…±äº«åº«ï¼‰
- Customer: 478 è¡Œï¼ˆä½¿ç”¨å…±äº«åº«ï¼‰
- å…±äº«: 642 è¡Œï¼ˆè¢«å…©å€‹ App é‡ç”¨ï¼‰
- **ç¸½è¨ˆ: 1,504 è¡Œ**

**ç¯€çœ**: **2,583 è¡Œ (63%)**

### ç¶­è­·æˆæœ¬é™ä½

- âœ… Bug ä¿®å¾©åªéœ€æ”¹ä¸€è™•
- âœ… æ–°åŠŸèƒ½åªéœ€å¯¦ä½œä¸€æ¬¡
- âœ… æ¸¬è©¦ç¯„åœç¸®å° 63%
- âœ… ä»£ç¢¼å¯©æŸ¥æ›´å¿«é€Ÿ

---

**æ¸¬è©¦äººå“¡**: __________
**æ¸¬è©¦æ—¥æœŸ**: __________
**æ¸¬è©¦çµæœ**: â˜ é€šé â˜ å¤±æ•—
**å‚™è¨»**: ______________________________
